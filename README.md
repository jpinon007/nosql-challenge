# nosql-challenge

# Background : I have been contracted by editors of a food magazine to evaluate ratings data in order to help journalists and food critics decide which establishments to focus on when writing future articles. 

# Solution : In order to complete this challenge, I used ChatGPT and my instructor's repo to review my code and use as reference for areas I struggled wtih, git@git.bootcampcontent.com:Northwestern-University/NU-VIRT-DATA-PT-06-2024-U-LOLC.git

# Part 1- Database and Jupyter Notebook Set Up: I began by importing the data provided in the json file into a Mongo database that is named "uk_food." In my Jupyter notebook, I imported the necessary dependencies. I created an instance of MongoClient, confirmed that the database was created by printing the list of mongo database names, assigned the uk_food database a variable, reviewed the collections in the database, reviewed a documents in the establishments collection, and finally assigned the collection to a variable. 
# Include new restaurant in analysis, add restaurant "Penang Flavours" to database: I started by creating a dictionary for the new restaurant. I added the new restaurant into the collection and verified that it was added using prettyprint. I needed to find the BusinessTypeID for "Restaurant/Cafe/Canteen" and return only the BusinessTypeID and BusinessType fields. Next, I updated the new restaurant with the accurate BusinessTypeID and made sure it was updated using pretty print. I needed to exclude establishments within the Dover Local Authority from the database, so I searched for documents that have LocalAuthorityName as "Dover". I proceeded to delete them and checked that they were deleted using pretty print. Next, some number values were stores as strings, so I had to change the data type from String to Decimal for longitude and latitude using the update.many function. I then used the update.many function to convert RatingValue to integer numbers. Finally, I used prettyprint to verify that both the coordinates and rating value were now numbers and not strings. 

# Part 2- Notebook Set Up: I began by importing the necessary dependencies, such as pymongo, pandas, and pprint.  I created an instance of MongoCLient, assigned the uk_food database a variable, reviewed the collections in the database, and assigned the collection a variable. I needed to find the establishments with a hygiene score of 20, then used count_documents to isplay the number of documents in the result, and displayed the first documents in the results using pprint. I then converted the result into a Pandas DataFrame, displayed the number of rows in the DataFrame, and displayed the first 10 rows. Next, I needed to find the establishments with London as the Local Authority and has a RatingValue greater than or equal to 4. I used count_documents to display the number of documents in the results, and displayed the first document in the results using pprint. Then I was asked to convert the results into a Pandas DataFrame, dispaly the number of rows in the DataFrame, and display the first 10 rows. Next, I needed to find the top 5 establishments with a RatingValue of 5, sorted by the lowest hygiene score, nearest to the new restaurant added, "Penang Flavours." So I began by searching withing .01 degree on either side of the latitude and longitude. Making sure the rating value was equal to 5, and sorting by hygiene score, and converting the results to a Pandas DataFrame. Finally, I needed to find how many establishments in each Local Authority area have a hygiene score of 0. So I created a pipeline that matches the establishments with a hygiene score of 0, groups that matches by Local Authority, and sorts the matches from highest to lowest. Then, I converted my findings into a Pandas DataFrame, displayed the number of rows in the dataframe, and displayed the first 10 rows. 
